2025-04-21 18:37:58,550 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 7092 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 18:37:58,551 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 18:37:58,551 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 18:37:58,950 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 18:37:58,971 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
2025-04-21 18:37:59,220 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 18:37:59,224 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 18:37:59,225 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 18:37:59,225 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 18:37:59,248 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 18:37:59,248 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 671 ms
2025-04-21 18:37:59,317 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 18:37:59,362 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 18:37:59,379 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 18:37:59,390 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 18:37:59,482 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 18:37:59,492 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 18:37:59,561 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c0680b0
2025-04-21 18:37:59,562 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 18:37:59,586 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 18:37:59,592 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 18:37:59,950 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 18:38:00,033 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:38:00,155 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 18:38:00,703 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 18:38:00,729 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 18:38:00,751 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 16 mappings in 'requestMappingHandlerMapping'
2025-04-21 18:38:00,797 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 18:38:00,810 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 18:38:00,830 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 18:38:00,950 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 18:38:00,975 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 18:38:00,983 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 18:38:00,991 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.64 seconds (process running for 2.833)
2025-04-21 18:38:21,913 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 18:38:21,914 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 18:38:21,914 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 18:38:21,914 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 18:38:21,914 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 18:38:21,918 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@d5b9704
2025-04-21 18:38:21,918 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@29f32a41
2025-04-21 18:38:21,919 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 18:38:21,920 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 5 ms
2025-04-21 18:38:21,932 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/hotels/search", parameters={}
2025-04-21 18:38:21,936 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelSearchController#searchHotel(HotelSearchDto)
2025-04-21 18:38:21,981 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [HotelSearchDto(city=Ujjain, checkInDate=2025-04-21, checkOutDate=2025-04-23, roomsCount=1, page=0, s (truncated)...]
2025-04-21 18:38:21,984 INFO [http-nio-8080-exec-1] c.p.c.HotelSearchController [HotelSearchController.java:26] Search hotel with Ujjain 2025-04-21 2025-04-23 1
2025-04-21 18:38:22,087 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:459] Using @ExceptionHandler com.project.advice.GlobalExceptionHandler#handleInternalServerError(Exception)
2025-04-21 18:38:22,096 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 18:38:22,096 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T18:38:22.088859, data=null, error=ApiError(status=500 INTERNAL_SERV (truncated)...]
2025-04-21 18:38:22,102 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:186] Resolved [java.lang.NullPointerException: Cannot invoke "org.modelmapper.ModelMapper.map(Object, java.lang.Class)" because "this.modelMapper" is null]
2025-04-21 18:38:22,103 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 500 INTERNAL_SERVER_ERROR
2025-04-21 18:39:13,161 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 18:39:15,177 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 18:39:15,190 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:39:15,195 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 18:39:15,204 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 18:39:16,821 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 7148 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 18:39:16,822 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 18:39:16,823 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 18:39:17,253 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 18:39:17,281 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
2025-04-21 18:39:17,558 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 18:39:17,563 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 18:39:17,563 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 18:39:17,563 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 18:39:17,586 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 18:39:17,587 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 740 ms
2025-04-21 18:39:17,656 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 18:39:17,719 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 18:39:17,742 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 18:39:17,754 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 18:39:17,861 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 18:39:17,871 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 18:39:17,941 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b671dda
2025-04-21 18:39:17,942 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 18:39:17,971 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 18:39:17,979 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 18:39:18,402 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 18:39:18,481 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:39:18,637 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 18:39:19,114 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 18:39:19,138 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 18:39:19,165 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 16 mappings in 'requestMappingHandlerMapping'
2025-04-21 18:39:19,215 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 18:39:19,233 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 18:39:19,256 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 18:39:19,409 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 18:39:19,432 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 18:39:19,441 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 18:39:19,450 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.85 seconds (process running for 3.013)
2025-04-21 18:39:31,248 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 18:39:31,248 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 18:39:31,249 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 18:39:31,249 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 18:39:31,249 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 18:39:31,251 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7dfe23c2
2025-04-21 18:39:31,251 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@159d2313
2025-04-21 18:39:31,252 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 18:39:31,252 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 3 ms
2025-04-21 18:39:31,263 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/hotels/search", parameters={}
2025-04-21 18:39:31,266 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelSearchController#searchHotel(HotelSearchDto)
2025-04-21 18:39:31,307 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [HotelSearchDto(city=Ujjain, checkInDate=2025-04-21, checkOutDate=2025-04-23, roomsCount=1, page=0, s (truncated)...]
2025-04-21 18:39:31,310 INFO [http-nio-8080-exec-1] c.p.c.HotelSearchController [HotelSearchController.java:26] Search hotel with Ujjain 2025-04-21 2025-04-23 1
2025-04-21 18:39:31,396 WARN [http-nio-8080-exec-1] o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier [SpringDataJacksonConfiguration.java:156] Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-04-21 18:39:31,399 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 18:39:31,402 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T18:39:31.400571, data=Page 1 of 1 containing com.project.dto.HotelD (truncated)...]
2025-04-21 18:39:31,410 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 18:43:47,082 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/hotels/search", parameters={}
2025-04-21 18:43:47,085 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelSearchController#searchHotel(HotelSearchDto)
2025-04-21 18:43:47,094 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [HotelSearchDto(city=Ujjain, checkInDate=2025-04-21, checkOutDate=2025-04-23, roomsCount=80, page=0,  (truncated)...]
2025-04-21 18:43:47,095 INFO [http-nio-8080-exec-3] c.p.c.HotelSearchController [HotelSearchController.java:26] Search hotel with Ujjain 2025-04-21 2025-04-23 80
2025-04-21 18:43:47,117 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 18:43:47,118 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T18:43:47.117890, data=Page 1 of 0 containing UNKNOWN instances, err (truncated)...]
2025-04-21 18:43:47,119 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 18:55:28,189 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 18:55:30,217 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 18:55:30,231 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:55:30,239 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 18:55:30,249 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 18:55:32,037 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 7494 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 18:55:32,039 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 18:55:32,039 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 18:55:32,447 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 18:55:32,470 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2025-04-21 18:55:32,737 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 18:55:32,742 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 18:55:32,742 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 18:55:32,742 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 18:55:32,763 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 18:55:32,764 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 705 ms
2025-04-21 18:55:32,833 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 18:55:32,884 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 18:55:32,907 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 18:55:32,919 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 18:55:33,026 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 18:55:33,038 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 18:55:33,128 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f3cd727
2025-04-21 18:55:33,128 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 18:55:33,168 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 18:55:33,176 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 18:55:33,557 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 18:55:33,632 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:55:33,759 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 18:55:34,346 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 18:55:34,371 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 18:55:34,397 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 17 mappings in 'requestMappingHandlerMapping'
2025-04-21 18:55:34,445 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 18:55:34,460 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 18:55:34,480 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 18:55:34,611 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 18:55:34,635 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 18:55:34,644 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 18:55:34,652 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.836 seconds (process running for 3.023)
2025-04-21 18:55:43,294 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 18:55:43,295 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 18:55:43,297 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 18:55:43,297 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 18:55:43,298 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 18:55:43,305 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@24e14ca6
2025-04-21 18:55:43,306 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@1e69a310
2025-04-21 18:55:43,306 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 18:55:43,306 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 11 ms
2025-04-21 18:55:43,316 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/index.html", parameters={}
2025-04-21 18:55:43,321 DEBUG [http-nio-8080-exec-1] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 18:55:43,333 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 304 NOT_MODIFIED
2025-04-21 18:55:43,356 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/swagger-initializer.js", parameters={}
2025-04-21 18:55:43,357 DEBUG [http-nio-8080-exec-2] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 18:55:43,382 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 18:55:43,616 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs/swagger-config", parameters={}
2025-04-21 18:55:43,622 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-04-21 18:55:43,636 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json]
2025-04-21 18:55:43,646 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{configUrl=/api/v1/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/api/v1/swagge (truncated)...]
2025-04-21 18:55:43,649 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 18:55:43,655 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs", parameters={}
2025-04-21 18:55:43,656 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-04-21 18:55:43,910 INFO [http-nio-8080-exec-4] o.s.a.AbstractOpenApiResource [AbstractOpenApiResource.java:410] Init duration for springdoc-openapi is: 192 ms
2025-04-21 18:55:43,917 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [application/json, */*] and supported [application/json]
2025-04-21 18:55:43,918 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-04-21 18:55:43,918 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 18:56:03,763 DEBUG [http-nio-8080-exec-8] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/hotels/1/info", parameters={}
2025-04-21 18:56:03,768 DEBUG [http-nio-8080-exec-8] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelSearchController#getHotelInfo(Long)
2025-04-21 18:56:03,778 DEBUG [http-nio-8080-exec-8] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:459] Using @ExceptionHandler com.project.advice.GlobalExceptionHandler#handleInternalServerError(Exception)
2025-04-21 18:56:03,785 DEBUG [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 18:56:03,786 DEBUG [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T18:56:03.779765, data=null, error=ApiError(status=500 INTERNAL_SERV (truncated)...]
2025-04-21 18:56:03,789 DEBUG [http-nio-8080-exec-8] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:186] Resolved [java.lang.NullPointerException: Cannot invoke "com.project.service.HotelService.getHotelInfo(java.lang.Long)" because "this.hotelService" is null]
2025-04-21 18:56:03,789 DEBUG [http-nio-8080-exec-8] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 500 INTERNAL_SERVER_ERROR
2025-04-21 18:56:24,948 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 18:56:26,964 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 18:56:26,976 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:56:26,983 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 18:56:26,991 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 18:56:28,455 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 7513 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 18:56:28,457 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 18:56:28,458 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 18:56:28,837 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 18:56:28,859 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 18 ms. Found 3 JPA repository interfaces.
2025-04-21 18:56:29,119 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 18:56:29,125 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 18:56:29,126 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 18:56:29,126 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 18:56:29,149 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 18:56:29,150 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 669 ms
2025-04-21 18:56:29,221 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 18:56:29,266 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 18:56:29,283 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 18:56:29,293 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 18:56:29,385 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 18:56:29,396 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 18:56:29,455 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c0680b0
2025-04-21 18:56:29,456 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 18:56:29,480 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 18:56:29,488 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 18:56:29,865 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 18:56:29,947 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:56:30,068 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 18:56:30,595 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 18:56:30,619 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 18:56:30,643 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 17 mappings in 'requestMappingHandlerMapping'
2025-04-21 18:56:30,694 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 18:56:30,709 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 18:56:30,731 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 18:56:30,861 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 18:56:30,884 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 18:56:30,894 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 18:56:30,903 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.648 seconds (process running for 2.792)
2025-04-21 18:56:42,788 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 18:56:42,789 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 18:56:42,790 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 18:56:42,790 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 18:56:42,790 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 18:56:42,793 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1dea0730
2025-04-21 18:56:42,794 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@3145c33b
2025-04-21 18:56:42,794 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 18:56:42,794 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 5 ms
2025-04-21 18:56:42,804 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/hotels/1/info", parameters={}
2025-04-21 18:56:42,810 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelSearchController#getHotelInfo(Long)
2025-04-21 18:56:42,904 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 18:56:42,906 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T18:56:42.905739, data=HotelInfoDto(hotelDto=HotelDto(id=1, name=Shi (truncated)...]
2025-04-21 18:56:42,917 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 18:58:52,193 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 18:58:54,209 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 18:58:54,219 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:58:54,225 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 18:58:54,235 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 18:58:55,681 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 7557 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 18:58:55,683 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 18:58:55,684 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 18:58:56,068 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 18:58:56,089 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
2025-04-21 18:58:56,344 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 18:58:56,348 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 18:58:56,349 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 18:58:56,349 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 18:58:56,369 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 18:58:56,369 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 664 ms
2025-04-21 18:58:56,439 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 18:58:56,486 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 18:58:56,505 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 18:58:56,516 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 18:58:56,607 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 18:58:56,618 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 18:58:56,686 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c0680b0
2025-04-21 18:58:56,686 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 18:58:56,710 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 18:58:56,716 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 18:58:57,072 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 18:58:57,158 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 18:58:57,280 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 18:58:57,771 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 18:58:57,792 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 18:58:57,816 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 17 mappings in 'requestMappingHandlerMapping'
2025-04-21 18:58:57,862 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 18:58:57,876 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 18:58:57,896 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 18:58:58,023 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 18:58:58,048 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 18:58:58,056 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 18:58:58,064 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.58 seconds (process running for 2.726)
2025-04-21 18:59:02,456 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 18:59:02,456 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 18:59:02,456 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 18:59:02,457 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 18:59:02,457 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 18:59:02,458 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6bc7eb0f
2025-04-21 18:59:02,458 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@7dfe23c2
2025-04-21 18:59:02,458 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 18:59:02,458 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 2 ms
2025-04-21 18:59:02,466 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/index.html", parameters={}
2025-04-21 18:59:02,470 DEBUG [http-nio-8080-exec-1] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 18:59:02,479 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 304 NOT_MODIFIED
2025-04-21 18:59:02,495 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/swagger-initializer.js", parameters={}
2025-04-21 18:59:02,496 DEBUG [http-nio-8080-exec-2] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 18:59:02,524 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 18:59:02,639 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs/swagger-config", parameters={}
2025-04-21 18:59:02,641 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-04-21 18:59:02,657 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json]
2025-04-21 18:59:02,667 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{configUrl=/api/v1/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/api/v1/swagge (truncated)...]
2025-04-21 18:59:02,671 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 18:59:02,690 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs", parameters={}
2025-04-21 18:59:02,702 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-04-21 18:59:02,896 INFO [http-nio-8080-exec-4] o.s.a.AbstractOpenApiResource [AbstractOpenApiResource.java:410] Init duration for springdoc-openapi is: 167 ms
2025-04-21 18:59:02,904 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [application/json, */*] and supported [application/json]
2025-04-21 18:59:02,905 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-04-21 18:59:02,905 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 18:59:09,511 DEBUG [http-nio-8080-exec-8] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/admin/hotels/1/info", parameters={}
2025-04-21 18:59:09,515 DEBUG [http-nio-8080-exec-8] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelController#getHotelInfo(Long)
2025-04-21 18:59:09,624 DEBUG [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 18:59:09,625 DEBUG [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T18:59:09.624794, data=HotelInfoDto(hotelDto=HotelDto(id=1, name=Shi (truncated)...]
2025-04-21 18:59:09,628 DEBUG [http-nio-8080-exec-8] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 19:45:30,587 WARN [HikariPool-1 housekeeper] c.z.h.p.HikariPool [HikariPool.java:797] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=21m3s523ms).
2025-04-21 21:07:02,000 WARN [HikariPool-1 housekeeper] c.z.h.p.HikariPool [HikariPool.java:797] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m30s618ms).
2025-04-21 21:23:30,209 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 21:23:32,238 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 21:23:32,265 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:23:32,285 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 21:23:32,289 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 21:23:34,428 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 9624 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 21:23:34,431 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 21:23:34,432 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 21:23:34,866 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 21:23:34,891 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 20 ms. Found 4 JPA repository interfaces.
2025-04-21 21:23:35,171 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 21:23:35,176 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 21:23:35,177 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 21:23:35,177 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 21:23:35,200 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 21:23:35,201 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 739 ms
2025-04-21 21:23:35,271 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 21:23:35,321 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 21:23:35,343 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 21:23:35,355 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 21:23:35,472 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 21:23:35,483 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 21:23:35,567 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e2578ea
2025-04-21 21:23:35,567 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 21:23:35,606 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 21:23:35,612 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 21:23:36,003 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 21:23:36,204 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:23:36,359 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 21:23:36,492 WARN [main] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:635] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelBookingController' defined in file [/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes/com/project/controller/HotelBookingController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'hotelBookingServiceImpl' defined in file [/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes/com/project/service/HotelBookingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'inventoryRepository' defined in com.project.repository.InventoryRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.project.repository.InventoryRepository.findAndLockAvailableInventory(java.lang.Long,java.time.LocalDate,java.time.LocalDate,java.lang.Integer,java.lang.Long); Reason: At 6:0 and token 'HAVING', mismatched input 'HAVING', expecting one of the following tokens: <EOF>, ',', '/', '||', '*', AND, BY, DAY, EPOCH, EXCEPT, GROUP, HOUR, INTERSECT, MINUTE, MONTH, NANOSECOND, OR, ORDER, QUARTER, SECOND, UNION, WEEK, YEAR, '+', '-'; Bad HQL grammar [SELECT i from Inventory i
WHERE i.room.id = :roomID
    AND i.date BETWEEN :checkInDate AND :checkOutDate
    AND i.closed = false
    AND (i.totalCount -i.bookedCount) >= :roomsCount
HAVING COUNT(DISTINCT i.date) >= :dateCount
]
2025-04-21 21:23:36,492 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:23:36,493 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 21:23:36,499 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 21:23:36,500 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2025-04-21 21:23:36,509 INFO [main] o.s.b.a.l.ConditionEvaluationReportLogger [ConditionEvaluationReportLogger.java:82] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-21 21:23:36,517 ERROR [main] o.s.b.SpringApplication [SpringApplication.java:857] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelBookingController' defined in file [/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes/com/project/controller/HotelBookingController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'hotelBookingServiceImpl' defined in file [/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes/com/project/service/HotelBookingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'inventoryRepository' defined in com.project.repository.InventoryRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.project.repository.InventoryRepository.findAndLockAvailableInventory(java.lang.Long,java.time.LocalDate,java.time.LocalDate,java.lang.Integer,java.lang.Long); Reason: At 6:0 and token 'HAVING', mismatched input 'HAVING', expecting one of the following tokens: <EOF>, ',', '/', '||', '*', AND, BY, DAY, EPOCH, EXCEPT, GROUP, HOUR, INTERSECT, MINUTE, MONTH, NANOSECOND, OR, ORDER, QUARTER, SECOND, UNION, WEEK, YEAR, '+', '-'; Bad HQL grammar [SELECT i from Inventory i
WHERE i.room.id = :roomID
    AND i.date BETWEEN :checkInDate AND :checkOutDate
    AND i.closed = false
    AND (i.totalCount -i.bookedCount) >= :roomsCount
HAVING COUNT(DISTINCT i.date) >= :dateCount
]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.project.AirbnbapiApplication.main(AirbnbapiApplication.java:10)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelBookingServiceImpl' defined in file [/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes/com/project/service/HotelBookingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'inventoryRepository' defined in com.project.repository.InventoryRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.project.repository.InventoryRepository.findAndLockAvailableInventory(java.lang.Long,java.time.LocalDate,java.time.LocalDate,java.lang.Integer,java.lang.Long); Reason: At 6:0 and token 'HAVING', mismatched input 'HAVING', expecting one of the following tokens: <EOF>, ',', '/', '||', '*', AND, BY, DAY, EPOCH, EXCEPT, GROUP, HOUR, INTERSECT, MINUTE, MONTH, NANOSECOND, OR, ORDER, QUARTER, SECOND, UNION, WEEK, YEAR, '+', '-'; Bad HQL grammar [SELECT i from Inventory i
WHERE i.room.id = :roomID
    AND i.date BETWEEN :checkInDate AND :checkOutDate
    AND i.closed = false
    AND (i.totalCount -i.bookedCount) >= :roomsCount
HAVING COUNT(DISTINCT i.date) >= :dateCount
]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inventoryRepository' defined in com.project.repository.InventoryRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.project.repository.InventoryRepository.findAndLockAvailableInventory(java.lang.Long,java.time.LocalDate,java.time.LocalDate,java.lang.Integer,java.lang.Long); Reason: At 6:0 and token 'HAVING', mismatched input 'HAVING', expecting one of the following tokens: <EOF>, ',', '/', '||', '*', AND, BY, DAY, EPOCH, EXCEPT, GROUP, HOUR, INTERSECT, MINUTE, MONTH, NANOSECOND, OR, ORDER, QUARTER, SECOND, UNION, WEEK, YEAR, '+', '-'; Bad HQL grammar [SELECT i from Inventory i
WHERE i.room.id = :roomID
    AND i.date BETWEEN :checkInDate AND :checkOutDate
    AND i.closed = false
    AND (i.totalCount -i.bookedCount) >= :roomsCount
HAVING COUNT(DISTINCT i.date) >= :dateCount
]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.project.repository.InventoryRepository.findAndLockAvailableInventory(java.lang.Long,java.time.LocalDate,java.time.LocalDate,java.lang.Integer,java.lang.Long); Reason: At 6:0 and token 'HAVING', mismatched input 'HAVING', expecting one of the following tokens: <EOF>, ',', '/', '||', '*', AND, BY, DAY, EPOCH, EXCEPT, GROUP, HOUR, INTERSECT, MINUTE, MONTH, NANOSECOND, OR, ORDER, QUARTER, SECOND, UNION, WEEK, YEAR, '+', '-'; Bad HQL grammar [SELECT i from Inventory i
WHERE i.room.id = :roomID
    AND i.date BETWEEN :checkInDate AND :checkOutDate
    AND i.closed = false
    AND (i.totalCount -i.bookedCount) >= :roomsCount
HAVING COUNT(DISTINCT i.date) >= :dateCount
]
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:431)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 45 common frames omitted
Caused by: org.springframework.data.jpa.repository.query.BadJpqlGrammarException: At 6:0 and token 'HAVING', mismatched input 'HAVING', expecting one of the following tokens: <EOF>, ',', '/', '||', '*', AND, BY, DAY, EPOCH, EXCEPT, GROUP, HOUR, INTERSECT, MINUTE, MONTH, NANOSECOND, OR, ORDER, QUARTER, SECOND, UNION, WEEK, YEAR, '+', '-'; Bad HQL grammar [SELECT i from Inventory i
WHERE i.room.id = :roomID
    AND i.date BETWEEN :checkInDate AND :checkOutDate
    AND i.closed = false
    AND (i.totalCount -i.bookedCount) >= :roomsCount
HAVING COUNT(DISTINCT i.date) >= :dateCount
]
	at org.springframework.data.jpa.repository.query.BadJpqlGrammarErrorListener.syntaxError(BadJpqlGrammarErrorListener.java:53)
	at org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)
	at org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:544)
	at org.antlr.v4.runtime.DefaultErrorStrategy.reportInputMismatch(DefaultErrorStrategy.java:327)
	at org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:139)
	at org.springframework.data.jpa.repository.query.HqlParser.start(HqlParser.java:346)
	at org.springframework.data.jpa.repository.query.JpaQueryEnhancer.parse(JpaQueryEnhancer.java:101)
	at org.springframework.data.jpa.repository.query.JpaQueryEnhancer$HqlQueryParser.<init>(JpaQueryEnhancer.java:288)
	at org.springframework.data.jpa.repository.query.JpaQueryEnhancer$HqlQueryParser.parseQuery(JpaQueryEnhancer.java:300)
	at org.springframework.data.jpa.repository.query.JpaQueryEnhancer.forHql(JpaQueryEnhancer.java:163)
	at org.springframework.data.jpa.repository.query.QueryEnhancerFactory.forQuery(QueryEnhancerFactory.java:68)
	at org.springframework.data.jpa.repository.query.StringQuery.<init>(StringQuery.java:98)
	at org.springframework.data.jpa.repository.query.StringQuery.<init>(StringQuery.java:77)
	at org.springframework.data.jpa.repository.query.ExpressionBasedStringQuery.<init>(ExpressionBasedStringQuery.java:65)
	at org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.<init>(AbstractStringBasedJpaQuery.java:84)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:65)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:256)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 57 common frames omitted
2025-04-21 21:26:45,359 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 9658 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 21:26:45,360 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 21:26:45,361 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 21:26:45,748 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 21:26:45,770 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 18 ms. Found 4 JPA repository interfaces.
2025-04-21 21:26:46,037 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 21:26:46,041 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 21:26:46,042 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 21:26:46,042 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 21:26:46,063 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 21:26:46,064 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 681 ms
2025-04-21 21:26:46,131 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 21:26:46,180 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 21:26:46,200 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 21:26:46,210 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 21:26:46,309 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 21:26:46,319 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 21:26:46,388 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@21688427
2025-04-21 21:26:46,388 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 21:26:46,417 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 21:26:46,423 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 21:26:46,779 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 21:26:46,868 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:26:46,985 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 21:26:47,100 WARN [main] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:635] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelBookingController' defined in file [/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes/com/project/controller/HotelBookingController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'hotelBookingServiceImpl' defined in file [/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes/com/project/service/HotelBookingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'inventoryRepository' defined in com.project.repository.InventoryRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.project.repository.InventoryRepository.findAndLockAvailableInventory(java.lang.Long,java.time.LocalDate,java.time.LocalDate,java.lang.Integer,java.lang.Long); Reason: At 7:0 and token 'HAVING', mismatched input 'HAVING', expecting one of the following tokens: <EOF>, ',', '[', '/', '||', '.', '*', ASC, BY, DAY, DESC, EPOCH, EXCEPT, FETCH, HOUR, INTERSECT, LIMIT, MINUTE, MONTH, NANOSECOND, NULLS, OFFSET, QUARTER, SECOND, UNION, WEEK, YEAR, '+', '-'; Bad HQL grammar [SELECT i from Inventory i
WHERE i.room.id = :roomID
    AND i.date BETWEEN :checkInDate AND :checkOutDate
    AND i.closed = false
    AND (i.totalCount -i.bookedCount) >= :roomsCount
ORDER BY i.room.id
HAVING COUNT(DISTINCT i.date) >= :dateCount
]
2025-04-21 21:26:47,100 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:26:47,102 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 21:26:47,105 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 21:26:47,106 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Stopping service [Tomcat]
2025-04-21 21:26:47,114 INFO [main] o.s.b.a.l.ConditionEvaluationReportLogger [ConditionEvaluationReportLogger.java:82] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-04-21 21:26:47,120 ERROR [main] o.s.b.SpringApplication [SpringApplication.java:857] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelBookingController' defined in file [/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes/com/project/controller/HotelBookingController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'hotelBookingServiceImpl' defined in file [/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes/com/project/service/HotelBookingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'inventoryRepository' defined in com.project.repository.InventoryRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.project.repository.InventoryRepository.findAndLockAvailableInventory(java.lang.Long,java.time.LocalDate,java.time.LocalDate,java.lang.Integer,java.lang.Long); Reason: At 7:0 and token 'HAVING', mismatched input 'HAVING', expecting one of the following tokens: <EOF>, ',', '[', '/', '||', '.', '*', ASC, BY, DAY, DESC, EPOCH, EXCEPT, FETCH, HOUR, INTERSECT, LIMIT, MINUTE, MONTH, NANOSECOND, NULLS, OFFSET, QUARTER, SECOND, UNION, WEEK, YEAR, '+', '-'; Bad HQL grammar [SELECT i from Inventory i
WHERE i.room.id = :roomID
    AND i.date BETWEEN :checkInDate AND :checkOutDate
    AND i.closed = false
    AND (i.totalCount -i.bookedCount) >= :roomsCount
ORDER BY i.room.id
HAVING COUNT(DISTINCT i.date) >= :dateCount
]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1155)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1121)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1056)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.project.AirbnbapiApplication.main(AirbnbapiApplication.java:10)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelBookingServiceImpl' defined in file [/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes/com/project/service/HotelBookingServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'inventoryRepository' defined in com.project.repository.InventoryRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.project.repository.InventoryRepository.findAndLockAvailableInventory(java.lang.Long,java.time.LocalDate,java.time.LocalDate,java.lang.Integer,java.lang.Long); Reason: At 7:0 and token 'HAVING', mismatched input 'HAVING', expecting one of the following tokens: <EOF>, ',', '[', '/', '||', '.', '*', ASC, BY, DAY, DESC, EPOCH, EXCEPT, FETCH, HOUR, INTERSECT, LIMIT, MINUTE, MONTH, NANOSECOND, NULLS, OFFSET, QUARTER, SECOND, UNION, WEEK, YEAR, '+', '-'; Bad HQL grammar [SELECT i from Inventory i
WHERE i.room.id = :roomID
    AND i.date BETWEEN :checkInDate AND :checkOutDate
    AND i.closed = false
    AND (i.totalCount -i.bookedCount) >= :roomsCount
ORDER BY i.room.id
HAVING COUNT(DISTINCT i.date) >= :dateCount
]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'inventoryRepository' defined in com.project.repository.InventoryRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.project.repository.InventoryRepository.findAndLockAvailableInventory(java.lang.Long,java.time.LocalDate,java.time.LocalDate,java.lang.Integer,java.lang.Long); Reason: At 7:0 and token 'HAVING', mismatched input 'HAVING', expecting one of the following tokens: <EOF>, ',', '[', '/', '||', '.', '*', ASC, BY, DAY, DESC, EPOCH, EXCEPT, FETCH, HOUR, INTERSECT, LIMIT, MINUTE, MONTH, NANOSECOND, NULLS, OFFSET, QUARTER, SECOND, UNION, WEEK, YEAR, '+', '-'; Bad HQL grammar [SELECT i from Inventory i
WHERE i.room.id = :roomID
    AND i.date BETWEEN :checkInDate AND :checkOutDate
    AND i.closed = false
    AND (i.totalCount -i.bookedCount) >= :roomsCount
ORDER BY i.room.id
HAVING COUNT(DISTINCT i.date) >= :dateCount
]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.project.repository.InventoryRepository.findAndLockAvailableInventory(java.lang.Long,java.time.LocalDate,java.time.LocalDate,java.lang.Integer,java.lang.Long); Reason: At 7:0 and token 'HAVING', mismatched input 'HAVING', expecting one of the following tokens: <EOF>, ',', '[', '/', '||', '.', '*', ASC, BY, DAY, DESC, EPOCH, EXCEPT, FETCH, HOUR, INTERSECT, LIMIT, MINUTE, MONTH, NANOSECOND, NULLS, OFFSET, QUARTER, SECOND, UNION, WEEK, YEAR, '+', '-'; Bad HQL grammar [SELECT i from Inventory i
WHERE i.room.id = :roomID
    AND i.date BETWEEN :checkInDate AND :checkOutDate
    AND i.closed = false
    AND (i.totalCount -i.bookedCount) >= :roomsCount
ORDER BY i.room.id
HAVING COUNT(DISTINCT i.date) >= :dateCount
]
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:431)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 45 common frames omitted
Caused by: org.springframework.data.jpa.repository.query.BadJpqlGrammarException: At 7:0 and token 'HAVING', mismatched input 'HAVING', expecting one of the following tokens: <EOF>, ',', '[', '/', '||', '.', '*', ASC, BY, DAY, DESC, EPOCH, EXCEPT, FETCH, HOUR, INTERSECT, LIMIT, MINUTE, MONTH, NANOSECOND, NULLS, OFFSET, QUARTER, SECOND, UNION, WEEK, YEAR, '+', '-'; Bad HQL grammar [SELECT i from Inventory i
WHERE i.room.id = :roomID
    AND i.date BETWEEN :checkInDate AND :checkOutDate
    AND i.closed = false
    AND (i.totalCount -i.bookedCount) >= :roomsCount
ORDER BY i.room.id
HAVING COUNT(DISTINCT i.date) >= :dateCount
]
	at org.springframework.data.jpa.repository.query.BadJpqlGrammarErrorListener.syntaxError(BadJpqlGrammarErrorListener.java:53)
	at org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)
	at org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:544)
	at org.antlr.v4.runtime.DefaultErrorStrategy.reportInputMismatch(DefaultErrorStrategy.java:327)
	at org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:139)
	at org.springframework.data.jpa.repository.query.HqlParser.start(HqlParser.java:346)
	at org.springframework.data.jpa.repository.query.JpaQueryEnhancer.parse(JpaQueryEnhancer.java:101)
	at org.springframework.data.jpa.repository.query.JpaQueryEnhancer$HqlQueryParser.<init>(JpaQueryEnhancer.java:288)
	at org.springframework.data.jpa.repository.query.JpaQueryEnhancer$HqlQueryParser.parseQuery(JpaQueryEnhancer.java:300)
	at org.springframework.data.jpa.repository.query.JpaQueryEnhancer.forHql(JpaQueryEnhancer.java:163)
	at org.springframework.data.jpa.repository.query.QueryEnhancerFactory.forQuery(QueryEnhancerFactory.java:68)
	at org.springframework.data.jpa.repository.query.StringQuery.<init>(StringQuery.java:98)
	at org.springframework.data.jpa.repository.query.StringQuery.<init>(StringQuery.java:77)
	at org.springframework.data.jpa.repository.query.ExpressionBasedStringQuery.<init>(ExpressionBasedStringQuery.java:65)
	at org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.<init>(AbstractStringBasedJpaQuery.java:84)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:65)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:256)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 57 common frames omitted
2025-04-21 21:28:25,393 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 9691 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 21:28:25,395 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 21:28:25,395 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 21:28:25,786 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 21:28:25,807 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 17 ms. Found 4 JPA repository interfaces.
2025-04-21 21:28:26,081 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 21:28:26,086 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 21:28:26,086 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 21:28:26,086 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 21:28:26,107 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 21:28:26,108 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 689 ms
2025-04-21 21:28:26,173 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 21:28:26,222 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 21:28:26,239 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 21:28:26,249 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 21:28:26,342 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 21:28:26,353 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 21:28:26,418 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6ad3fbe4
2025-04-21 21:28:26,418 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 21:28:26,450 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 21:28:26,457 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 21:28:26,818 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 21:28:26,895 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:28:27,038 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 21:28:27,469 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 21:28:27,491 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 21:28:27,519 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 18 mappings in 'requestMappingHandlerMapping'
2025-04-21 21:28:27,567 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 21:28:27,584 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 21:28:27,609 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 21:28:27,743 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 21:28:27,772 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 21:28:27,781 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 21:28:27,789 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.598 seconds (process running for 2.751)
2025-04-21 21:28:32,395 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 21:28:32,396 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 21:28:32,396 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 21:28:32,396 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 21:28:32,396 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 21:28:32,397 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6cf4ac81
2025-04-21 21:28:32,397 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@6fc294ae
2025-04-21 21:28:32,397 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 21:28:32,397 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 1 ms
2025-04-21 21:28:32,404 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/index.html", parameters={}
2025-04-21 21:28:32,408 DEBUG [http-nio-8080-exec-1] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 21:28:32,415 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 304 NOT_MODIFIED
2025-04-21 21:28:32,440 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/swagger-initializer.js", parameters={}
2025-04-21 21:28:32,441 DEBUG [http-nio-8080-exec-2] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 21:28:32,470 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 21:28:32,763 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs/swagger-config", parameters={}
2025-04-21 21:28:32,765 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-04-21 21:28:32,777 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json]
2025-04-21 21:28:32,800 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{configUrl=/api/v1/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/api/v1/swagge (truncated)...]
2025-04-21 21:28:32,802 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 21:28:32,811 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs", parameters={}
2025-04-21 21:28:32,812 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-04-21 21:28:33,017 INFO [http-nio-8080-exec-4] o.s.a.AbstractOpenApiResource [AbstractOpenApiResource.java:410] Init duration for springdoc-openapi is: 181 ms
2025-04-21 21:28:33,027 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [application/json, */*] and supported [application/json]
2025-04-21 21:28:33,028 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-04-21 21:28:33,029 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 21:30:40,748 DEBUG [http-nio-8080-exec-8] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/index.html", parameters={}
2025-04-21 21:30:40,753 DEBUG [http-nio-8080-exec-8] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 21:30:40,760 DEBUG [http-nio-8080-exec-8] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 304 NOT_MODIFIED
2025-04-21 21:30:40,782 DEBUG [http-nio-8080-exec-9] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/swagger-initializer.js", parameters={}
2025-04-21 21:30:40,783 DEBUG [http-nio-8080-exec-9] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 21:30:40,791 DEBUG [http-nio-8080-exec-9] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 21:30:41,035 DEBUG [http-nio-8080-exec-10] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs/swagger-config", parameters={}
2025-04-21 21:30:41,036 DEBUG [http-nio-8080-exec-10] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-04-21 21:30:41,038 DEBUG [http-nio-8080-exec-10] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json]
2025-04-21 21:30:41,039 DEBUG [http-nio-8080-exec-10] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{configUrl=/api/v1/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/api/v1/swagge (truncated)...]
2025-04-21 21:30:41,040 DEBUG [http-nio-8080-exec-10] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 21:30:41,052 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs", parameters={}
2025-04-21 21:30:41,052 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-04-21 21:30:41,089 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [application/json, */*] and supported [application/json]
2025-04-21 21:30:41,092 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-04-21 21:30:41,094 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 21:33:46,106 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 21:33:48,133 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 21:33:48,148 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:33:48,154 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 21:33:48,165 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 21:33:49,778 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 9880 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 21:33:49,779 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 21:33:49,779 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 21:33:50,194 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 21:33:50,218 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 20 ms. Found 4 JPA repository interfaces.
2025-04-21 21:33:50,482 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 21:33:50,486 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 21:33:50,487 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 21:33:50,487 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 21:33:50,508 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 21:33:50,509 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 708 ms
2025-04-21 21:33:50,578 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 21:33:50,631 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 21:33:50,653 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 21:33:50,666 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 21:33:50,770 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 21:33:50,783 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 21:33:50,853 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5621a671
2025-04-21 21:33:50,853 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 21:33:50,882 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 21:33:50,891 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 21:33:51,273 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 21:33:51,360 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:33:51,487 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 21:33:52,026 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 21:33:52,049 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 21:33:52,076 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 18 mappings in 'requestMappingHandlerMapping'
2025-04-21 21:33:52,128 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 21:33:52,144 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 21:33:52,164 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 21:33:52,301 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 21:33:52,326 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 21:33:52,334 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 21:33:52,346 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.78 seconds (process running for 2.962)
2025-04-21 21:33:57,100 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 21:33:57,100 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 21:33:57,100 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 21:33:57,100 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 21:33:57,100 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 21:33:57,101 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@768511c3
2025-04-21 21:33:57,101 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@35c8dd30
2025-04-21 21:33:57,101 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 21:33:57,101 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 1 ms
2025-04-21 21:33:57,109 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/index.html", parameters={}
2025-04-21 21:33:57,114 DEBUG [http-nio-8080-exec-1] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 21:33:57,121 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 304 NOT_MODIFIED
2025-04-21 21:33:57,144 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/swagger-initializer.js", parameters={}
2025-04-21 21:33:57,148 DEBUG [http-nio-8080-exec-2] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 21:33:57,181 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 21:33:57,388 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs/swagger-config", parameters={}
2025-04-21 21:33:57,391 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-04-21 21:33:57,404 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json]
2025-04-21 21:33:57,414 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{configUrl=/api/v1/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/api/v1/swagge (truncated)...]
2025-04-21 21:33:57,416 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 21:33:57,424 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs", parameters={}
2025-04-21 21:33:57,425 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-04-21 21:33:57,631 INFO [http-nio-8080-exec-4] o.s.a.AbstractOpenApiResource [AbstractOpenApiResource.java:410] Init duration for springdoc-openapi is: 196 ms
2025-04-21 21:33:57,640 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [application/json, */*] and supported [application/json]
2025-04-21 21:33:57,641 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-04-21 21:33:57,642 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 21:34:04,306 DEBUG [http-nio-8080-exec-5] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/bookings/create", parameters={}
2025-04-21 21:34:04,309 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelBookingController#createBooking(BookingRequest)
2025-04-21 21:34:04,333 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [BookingRequest(hotelId=1, roomId=1, checkInDate=2025-04-22, checkOutDate=2025-04-24, roomsCount=2)]
2025-04-21 21:34:04,470 WARN [http-nio-8080-exec-5] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:145] SQL Error: 1452, SQLState: 23000
2025-04-21 21:34:04,471 ERROR [http-nio-8080-exec-5] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:150] Cannot add or update a child row: a foreign key constraint fails (`airbnb`.`booking`, CONSTRAINT `FKn7phgawjwo673xgim9d2cvfe1` FOREIGN KEY (`user_id`) REFERENCES `app_user` (`id`))
2025-04-21 21:34:04,477 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:459] Using @ExceptionHandler com.project.advice.GlobalExceptionHandler#handleInternalServerError(Exception)
2025-04-21 21:34:04,480 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 21:34:04,480 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T21:34:04.478316, data=null, error=ApiError(status=500 INTERNAL_SERV (truncated)...]
2025-04-21 21:34:04,481 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:186] Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`airbnb`.`booking`, CONSTRAINT `FKn7phgawjwo673xgim9d2cvfe1` FOREIGN KEY (`user_id`) REFERENCES `app_user` (`id`))] [insert into booking (amount,booking_status,check_in_date,check_out_date,created_at,hotel_id,room_id,rooms_count,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)]; SQL [insert into booking (amount,booking_status,check_in_date,check_out_date,created_at,hotel_id,room_id,rooms_count,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)]; constraint [null]]
2025-04-21 21:34:04,481 DEBUG [http-nio-8080-exec-5] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 500 INTERNAL_SERVER_ERROR
2025-04-21 21:37:40,436 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 21:37:42,452 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 21:37:42,465 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:37:42,472 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 21:37:42,482 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 21:37:44,114 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 9928 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 21:37:44,116 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 21:37:44,116 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 21:37:44,600 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 21:37:44,631 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 27 ms. Found 4 JPA repository interfaces.
2025-04-21 21:37:44,930 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 21:37:44,935 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 21:37:44,936 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 21:37:44,936 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 21:37:44,961 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 21:37:44,962 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 823 ms
2025-04-21 21:37:45,030 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 21:37:45,087 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 21:37:45,108 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 21:37:45,119 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 21:37:45,230 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 21:37:45,241 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 21:37:45,322 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7096d451
2025-04-21 21:37:45,323 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 21:37:45,349 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 21:37:45,356 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 21:37:45,790 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 21:37:45,893 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:37:46,034 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 21:37:46,602 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 21:37:46,628 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 21:37:46,657 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 18 mappings in 'requestMappingHandlerMapping'
2025-04-21 21:37:46,711 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 21:37:46,730 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 21:37:46,753 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 21:37:46,918 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 21:37:46,946 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 21:37:46,955 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 21:37:46,965 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 3.122 seconds (process running for 3.679)
2025-04-21 21:37:52,772 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 21:37:52,773 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 21:37:52,773 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 21:37:52,773 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 21:37:52,773 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 21:37:52,776 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@376314dd
2025-04-21 21:37:52,776 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@4a92652b
2025-04-21 21:37:52,776 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 21:37:52,776 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 3 ms
2025-04-21 21:37:52,786 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/bookings/create", parameters={}
2025-04-21 21:37:52,790 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelBookingController#createBooking(BookingRequest)
2025-04-21 21:37:52,836 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [BookingRequest(hotelId=1, roomId=1, checkInDate=2025-04-22, checkOutDate=2025-04-24, roomsCount=2)]
2025-04-21 21:38:44,113 WARN [HikariPool-1 housekeeper] c.z.h.p.HikariPool [HikariPool.java:797] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=58s684ms).
2025-04-21 21:39:46,738 WARN [HikariPool-1 housekeeper] c.z.h.p.HikariPool [HikariPool.java:797] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m2s625ms).
2025-04-21 21:40:43,274 WARN [http-nio-8080-exec-1] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:145] SQL Error: 1452, SQLState: 23000
2025-04-21 21:40:43,275 ERROR [http-nio-8080-exec-1] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:150] Cannot add or update a child row: a foreign key constraint fails (`airbnb`.`booking`, CONSTRAINT `FKn7phgawjwo673xgim9d2cvfe1` FOREIGN KEY (`user_id`) REFERENCES `app_user` (`id`))
2025-04-21 21:42:25,176 WARN [HikariPool-1 housekeeper] c.z.h.p.HikariPool [HikariPool.java:797] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m8s74ms).
2025-04-21 21:42:25,198 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:459] Using @ExceptionHandler com.project.advice.GlobalExceptionHandler#handleInternalServerError(Exception)
2025-04-21 21:42:25,221 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 21:42:25,223 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T21:42:25.203642, data=null, error=ApiError(status=500 INTERNAL_SERV (truncated)...]
2025-04-21 21:42:25,237 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:186] Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`airbnb`.`booking`, CONSTRAINT `FKn7phgawjwo673xgim9d2cvfe1` FOREIGN KEY (`user_id`) REFERENCES `app_user` (`id`))] [insert into booking (amount,booking_status,check_in_date,check_out_date,created_at,hotel_id,room_id,rooms_count,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)]; SQL [insert into booking (amount,booking_status,check_in_date,check_out_date,created_at,hotel_id,room_id,rooms_count,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)]; constraint [null]]
2025-04-21 21:42:25,238 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 500 INTERNAL_SERVER_ERROR
2025-04-21 21:42:30,046 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/bookings/create", parameters={}
2025-04-21 21:42:30,047 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelBookingController#createBooking(BookingRequest)
2025-04-21 21:42:30,049 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [BookingRequest(hotelId=1, roomId=1, checkInDate=2025-04-22, checkOutDate=2025-04-24, roomsCount=2)]
2025-04-21 21:42:45,763 WARN [http-nio-8080-exec-2] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:145] SQL Error: 1452, SQLState: 23000
2025-04-21 21:42:45,766 ERROR [http-nio-8080-exec-2] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:150] Cannot add or update a child row: a foreign key constraint fails (`airbnb`.`booking`, CONSTRAINT `FKn7phgawjwo673xgim9d2cvfe1` FOREIGN KEY (`user_id`) REFERENCES `app_user` (`id`))
2025-04-21 21:42:51,430 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:459] Using @ExceptionHandler com.project.advice.GlobalExceptionHandler#handleInternalServerError(Exception)
2025-04-21 21:42:51,432 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 21:42:51,433 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T21:42:51.431573, data=null, error=ApiError(status=500 INTERNAL_SERV (truncated)...]
2025-04-21 21:42:51,434 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:186] Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`airbnb`.`booking`, CONSTRAINT `FKn7phgawjwo673xgim9d2cvfe1` FOREIGN KEY (`user_id`) REFERENCES `app_user` (`id`))] [insert into booking (amount,booking_status,check_in_date,check_out_date,created_at,hotel_id,room_id,rooms_count,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)]; SQL [insert into booking (amount,booking_status,check_in_date,check_out_date,created_at,hotel_id,room_id,rooms_count,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)]; constraint [null]]
2025-04-21 21:42:51,435 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 500 INTERNAL_SERVER_ERROR
2025-04-21 21:44:19,168 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 21:44:21,184 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 21:44:21,196 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:44:21,202 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 21:44:21,213 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 21:44:25,704 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 10063 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 21:44:25,705 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 21:44:25,705 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 21:44:26,125 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 21:44:26,210 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 79 ms. Found 4 JPA repository interfaces.
2025-04-21 21:44:26,496 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 21:44:26,500 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 21:44:26,501 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 21:44:26,501 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 21:44:26,524 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 21:44:26,524 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 797 ms
2025-04-21 21:44:26,594 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 21:44:26,649 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 21:44:26,671 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 21:44:26,684 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 21:44:26,850 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 21:44:26,862 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 21:44:26,948 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e2578ea
2025-04-21 21:44:26,948 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 21:44:26,976 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 21:44:26,984 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 21:44:27,386 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 21:44:27,473 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:44:27,617 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 21:44:28,145 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 21:44:28,166 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 21:44:28,191 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 18 mappings in 'requestMappingHandlerMapping'
2025-04-21 21:44:28,234 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 21:44:28,249 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 21:44:28,269 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 21:44:28,398 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 21:44:28,426 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 21:44:28,435 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 21:44:28,444 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.962 seconds (process running for 3.195)
2025-04-21 21:45:34,341 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 21:45:34,341 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 21:45:34,342 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 21:45:34,342 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 21:45:34,342 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 21:45:34,344 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1e9bbb27
2025-04-21 21:45:34,344 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@1c89afe
2025-04-21 21:45:34,345 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 21:45:34,345 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 3 ms
2025-04-21 21:45:34,354 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/index.html", parameters={}
2025-04-21 21:45:34,359 DEBUG [http-nio-8080-exec-1] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 21:45:34,369 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 304 NOT_MODIFIED
2025-04-21 21:45:34,397 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/swagger-initializer.js", parameters={}
2025-04-21 21:45:34,399 DEBUG [http-nio-8080-exec-2] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 21:45:34,440 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 21:45:34,651 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs/swagger-config", parameters={}
2025-04-21 21:45:34,655 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-04-21 21:45:34,671 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json]
2025-04-21 21:45:34,727 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{configUrl=/api/v1/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/api/v1/swagge (truncated)...]
2025-04-21 21:45:34,730 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 21:45:34,739 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs", parameters={}
2025-04-21 21:45:34,739 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-04-21 21:45:34,963 INFO [http-nio-8080-exec-4] o.s.a.AbstractOpenApiResource [AbstractOpenApiResource.java:410] Init duration for springdoc-openapi is: 208 ms
2025-04-21 21:45:34,972 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [application/json, */*] and supported [application/json]
2025-04-21 21:45:34,973 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-04-21 21:45:34,973 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 21:45:51,943 DEBUG [http-nio-8080-exec-5] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/bookings/create", parameters={}
2025-04-21 21:45:51,945 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelBookingController#createBooking(BookingRequest)
2025-04-21 21:45:51,972 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [BookingRequest(hotelId=1, roomId=1, checkInDate=2025-04-21, checkOutDate=2025-04-23, roomsCount=3)]
2025-04-21 21:45:52,119 WARN [http-nio-8080-exec-5] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:145] SQL Error: 1452, SQLState: 23000
2025-04-21 21:45:52,119 ERROR [http-nio-8080-exec-5] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:150] Cannot add or update a child row: a foreign key constraint fails (`airbnb`.`booking`, CONSTRAINT `FKn7phgawjwo673xgim9d2cvfe1` FOREIGN KEY (`user_id`) REFERENCES `app_user` (`id`))
2025-04-21 21:45:52,126 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:459] Using @ExceptionHandler com.project.advice.GlobalExceptionHandler#handleInternalServerError(Exception)
2025-04-21 21:45:52,129 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 21:45:52,130 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T21:45:52.126978, data=null, error=ApiError(status=500 INTERNAL_SERV (truncated)...]
2025-04-21 21:45:52,132 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:186] Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`airbnb`.`booking`, CONSTRAINT `FKn7phgawjwo673xgim9d2cvfe1` FOREIGN KEY (`user_id`) REFERENCES `app_user` (`id`))] [insert into booking (amount,booking_status,check_in_date,check_out_date,created_at,hotel_id,room_id,rooms_count,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)]; SQL [insert into booking (amount,booking_status,check_in_date,check_out_date,created_at,hotel_id,room_id,rooms_count,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)]; constraint [null]]
2025-04-21 21:45:52,132 DEBUG [http-nio-8080-exec-5] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 500 INTERNAL_SERVER_ERROR
2025-04-21 21:50:45,492 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 21:50:47,507 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 21:50:47,535 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:50:47,541 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 21:50:47,552 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 21:50:49,203 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 10380 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 21:50:49,204 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 21:50:49,204 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 21:50:49,627 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 21:50:49,651 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 19 ms. Found 4 JPA repository interfaces.
2025-04-21 21:50:49,911 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 21:50:49,915 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 21:50:49,916 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 21:50:49,916 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 21:50:49,937 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 21:50:49,938 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 714 ms
2025-04-21 21:50:50,008 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 21:50:50,059 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 21:50:50,082 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 21:50:50,094 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 21:50:50,198 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 21:50:50,209 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 21:50:50,273 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5621a671
2025-04-21 21:50:50,274 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 21:50:50,311 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 21:50:50,319 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 21:50:50,699 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 21:50:50,857 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:50:50,994 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 21:50:51,463 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 21:50:51,486 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 21:50:51,511 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 18 mappings in 'requestMappingHandlerMapping'
2025-04-21 21:50:51,555 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 21:50:51,570 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 21:50:51,590 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 21:50:51,717 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 21:50:51,744 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 21:50:51,754 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 21:50:51,762 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.78 seconds (process running for 2.961)
2025-04-21 21:51:26,099 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 21:51:26,100 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 21:51:26,100 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 21:51:26,100 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 21:51:26,100 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 21:51:26,106 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3b00a7b9
2025-04-21 21:51:26,106 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@4512085c
2025-04-21 21:51:26,106 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 21:51:26,106 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 6 ms
2025-04-21 21:51:26,118 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/bookings/create", parameters={}
2025-04-21 21:51:26,123 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelBookingController#createBooking(BookingRequest)
2025-04-21 21:51:26,172 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [BookingRequest(hotelId=1, roomId=1, checkInDate=2025-04-21, checkOutDate=2025-04-23, roomsCount=3)]
2025-04-21 21:51:26,338 WARN [http-nio-8080-exec-1] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:145] SQL Error: 1452, SQLState: 23000
2025-04-21 21:51:26,338 ERROR [http-nio-8080-exec-1] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:150] Cannot add or update a child row: a foreign key constraint fails (`airbnb`.`booking`, CONSTRAINT `FKn7phgawjwo673xgim9d2cvfe1` FOREIGN KEY (`user_id`) REFERENCES `app_user` (`id`))
2025-04-21 21:51:26,345 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:459] Using @ExceptionHandler com.project.advice.GlobalExceptionHandler#handleInternalServerError(Exception)
2025-04-21 21:51:26,354 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 21:51:26,355 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T21:51:26.346536, data=null, error=ApiError(status=500 INTERNAL_SERV (truncated)...]
2025-04-21 21:51:26,362 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:186] Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`airbnb`.`booking`, CONSTRAINT `FKn7phgawjwo673xgim9d2cvfe1` FOREIGN KEY (`user_id`) REFERENCES `app_user` (`id`))] [insert into booking (amount,booking_status,check_in_date,check_out_date,created_at,hotel_id,room_id,rooms_count,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)]; SQL [insert into booking (amount,booking_status,check_in_date,check_out_date,created_at,hotel_id,room_id,rooms_count,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)]; constraint [null]]
2025-04-21 21:51:26,363 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 500 INTERNAL_SERVER_ERROR
2025-04-21 21:57:54,760 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 21:57:56,776 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 21:57:56,792 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:57:56,800 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 21:57:56,809 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 21:59:40,635 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 10627 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 21:59:40,636 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 21:59:40,636 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 21:59:41,058 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 21:59:41,083 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 20 ms. Found 4 JPA repository interfaces.
2025-04-21 21:59:41,341 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 21:59:41,345 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 21:59:41,346 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 21:59:41,346 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 21:59:41,366 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 21:59:41,367 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 705 ms
2025-04-21 21:59:41,437 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 21:59:41,486 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 21:59:41,522 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 21:59:41,538 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 21:59:41,648 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 21:59:41,658 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 21:59:41,729 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2006fdaa
2025-04-21 21:59:41,729 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 21:59:41,759 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 21:59:41,765 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 21:59:42,136 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 21:59:42,230 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 21:59:42,375 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 21:59:42,864 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 21:59:42,889 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 21:59:42,916 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 18 mappings in 'requestMappingHandlerMapping'
2025-04-21 21:59:42,963 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 21:59:42,979 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 21:59:43,000 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 21:59:43,132 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 21:59:43,161 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 21:59:43,169 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 21:59:43,188 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.772 seconds (process running for 2.994)
2025-04-21 21:59:47,510 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 21:59:47,510 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 21:59:47,510 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 21:59:47,511 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 21:59:47,511 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 21:59:47,512 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4116167e
2025-04-21 21:59:47,512 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@537caf04
2025-04-21 21:59:47,512 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 21:59:47,512 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 2 ms
2025-04-21 21:59:47,519 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/bookings/create", parameters={}
2025-04-21 21:59:47,522 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelBookingController#createBooking(BookingRequest)
2025-04-21 21:59:47,557 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [BookingRequest(hotelId=1, roomId=1, checkInDate=2025-04-21, checkOutDate=2025-04-23, roomsCount=3)]
2025-04-21 21:59:47,670 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 21:59:47,672 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T21:59:47.671237, data=BookingDto(id=6, hotel=com.project.entity.Hot (truncated)...]
2025-04-21 21:59:47,693 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:459] Using @ExceptionHandler com.project.advice.GlobalExceptionHandler#handleInternalServerError(Exception)
2025-04-21 21:59:47,694 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:251] Found 'Content-Type:application/json' in response
2025-04-21 21:59:47,694 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T21:59:47.694182, data=null, error=ApiError(status=500 INTERNAL_SERV (truncated)...]
2025-04-21 21:59:47,696 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:186] Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowed (1000, from `StreamWriteConstraints.getMaxNestingDepth()`)]
2025-04-21 21:59:47,696 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 201 CREATED
2025-04-21 22:00:31,699 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 22:00:33,718 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 22:00:33,736 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 22:00:33,743 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 22:00:33,752 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 22:00:35,742 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 10713 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 22:00:35,743 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 22:00:35,744 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 22:00:36,217 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 22:00:36,244 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 23 ms. Found 4 JPA repository interfaces.
2025-04-21 22:00:36,550 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 22:00:36,555 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 22:00:36,555 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 22:00:36,555 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 22:00:36,577 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 22:00:36,577 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 809 ms
2025-04-21 22:00:36,649 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 22:00:36,700 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 22:00:36,722 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 22:00:36,734 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 22:00:36,838 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 22:00:36,851 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 22:00:36,928 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e2578ea
2025-04-21 22:00:36,929 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 22:00:36,960 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 22:00:36,967 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 22:00:37,349 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 22:00:37,449 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 22:00:37,600 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 22:00:38,138 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 22:00:38,163 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 22:00:38,189 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 18 mappings in 'requestMappingHandlerMapping'
2025-04-21 22:00:38,236 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 22:00:38,252 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 22:00:38,273 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 22:00:38,411 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 22:00:38,439 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 22:00:38,448 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 22:00:38,455 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 3.035 seconds (process running for 3.242)
2025-04-21 22:00:53,066 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 22:00:53,066 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 22:00:53,067 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 22:00:53,067 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 22:00:53,067 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 22:00:53,068 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@74e2de39
2025-04-21 22:00:53,068 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@768511c3
2025-04-21 22:00:53,068 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 22:00:53,068 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 1 ms
2025-04-21 22:00:53,078 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/bookings/create", parameters={}
2025-04-21 22:00:53,082 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelBookingController#createBooking(BookingRequest)
2025-04-21 22:00:53,118 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [BookingRequest(hotelId=1, roomId=1, checkInDate=2025-04-21, checkOutDate=2025-04-23, roomsCount=3)]
2025-04-21 22:00:53,201 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:459] Using @ExceptionHandler com.project.advice.GlobalExceptionHandler#handleInternalServerError(Exception)
2025-04-21 22:00:53,211 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 22:00:53,212 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T22:00:53.202729, data=null, error=ApiError(status=500 INTERNAL_SERV (truncated)...]
2025-04-21 22:00:53,218 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:186] Resolved [java.lang.IllegalStateException: Rooms not availabe anymore]
2025-04-21 22:00:53,218 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 500 INTERNAL_SERVER_ERROR
2025-04-21 22:01:05,520 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/bookings/create", parameters={}
2025-04-21 22:01:05,521 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelBookingController#createBooking(BookingRequest)
2025-04-21 22:01:05,536 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [BookingRequest(hotelId=1, roomId=1, checkInDate=2025-04-24, checkOutDate=2025-04-25, roomsCount=3)]
2025-04-21 22:01:05,603 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 22:01:05,604 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T22:01:05.604039, data=BookingDto(id=7, roomsCount=3, checkInDate=20 (truncated)...]
2025-04-21 22:01:05,605 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 201 CREATED
2025-04-21 22:10:35,486 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 22:10:37,514 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 22:10:37,530 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 22:10:37,536 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 22:10:37,548 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 22:22:58,864 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 11490 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 22:22:58,865 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 22:22:58,866 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 22:22:59,286 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 22:22:59,309 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 19 ms. Found 5 JPA repository interfaces.
2025-04-21 22:22:59,573 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 22:22:59,577 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 22:22:59,578 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 22:22:59,578 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 22:22:59,603 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 22:22:59,603 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 716 ms
2025-04-21 22:22:59,678 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 22:22:59,730 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 22:22:59,752 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 22:22:59,764 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 22:22:59,891 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 22:22:59,902 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 22:22:59,994 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@29592929
2025-04-21 22:22:59,994 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 22:23:00,025 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 22:23:00,031 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 22:23:00,400 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 22:23:00,497 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 22:23:00,642 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 22:23:01,192 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 22:23:01,214 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 22:23:01,240 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 19 mappings in 'requestMappingHandlerMapping'
2025-04-21 22:23:01,283 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 22:23:01,297 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 22:23:01,318 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 22:23:01,437 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 22:23:01,467 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 22:23:01,476 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 22:23:01,485 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.842 seconds (process running for 3.019)
2025-04-21 22:23:21,208 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 22:23:21,209 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 22:23:21,210 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 22:23:21,210 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 22:23:21,210 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 22:23:21,212 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@619783ce
2025-04-21 22:23:21,212 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@70d259a5
2025-04-21 22:23:21,212 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 22:23:21,213 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 4 ms
2025-04-21 22:23:21,222 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/index.html", parameters={}
2025-04-21 22:23:21,227 DEBUG [http-nio-8080-exec-1] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 22:23:21,236 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 304 NOT_MODIFIED
2025-04-21 22:23:21,268 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/swagger-initializer.js", parameters={}
2025-04-21 22:23:21,270 DEBUG [http-nio-8080-exec-2] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 22:23:21,299 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 22:23:21,526 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs/swagger-config", parameters={}
2025-04-21 22:23:21,529 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-04-21 22:23:21,551 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json]
2025-04-21 22:23:21,561 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{configUrl=/api/v1/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/api/v1/swagge (truncated)...]
2025-04-21 22:23:21,564 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 22:23:21,574 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs", parameters={}
2025-04-21 22:23:21,576 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-04-21 22:23:21,791 INFO [http-nio-8080-exec-4] o.s.a.AbstractOpenApiResource [AbstractOpenApiResource.java:410] Init duration for springdoc-openapi is: 177 ms
2025-04-21 22:23:21,799 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [application/json, */*] and supported [application/json]
2025-04-21 22:23:21,800 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-04-21 22:23:21,801 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 22:23:50,485 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 22:23:52,505 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 22:23:52,519 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 22:23:52,526 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 22:23:52,537 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 22:23:53,927 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 11537 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 22:23:53,928 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 22:23:53,928 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 22:23:54,320 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 22:23:54,343 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 19 ms. Found 5 JPA repository interfaces.
2025-04-21 22:23:54,609 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 22:23:54,613 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 22:23:54,614 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 22:23:54,614 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 22:23:54,635 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 22:23:54,636 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 683 ms
2025-04-21 22:23:54,701 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 22:23:54,748 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 22:23:54,768 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 22:23:54,778 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 22:23:54,869 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 22:23:54,880 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 22:23:54,949 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4caf875c
2025-04-21 22:23:54,949 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 22:23:54,974 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 22:23:54,981 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 22:23:55,335 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 22:23:55,416 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 22:23:55,540 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 22:23:56,105 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 22:23:56,141 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 22:23:56,177 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 19 mappings in 'requestMappingHandlerMapping'
2025-04-21 22:23:56,253 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 22:23:56,271 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 22:23:56,302 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 22:23:56,525 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 22:23:56,550 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 22:23:56,559 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 22:23:56,568 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.86 seconds (process running for 3.01)
2025-04-21 22:23:58,513 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 22:23:58,513 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 22:23:58,513 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 22:23:58,513 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 22:23:58,513 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 22:23:58,515 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@23e883fb
2025-04-21 22:23:58,515 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@54236211
2025-04-21 22:23:58,516 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 22:23:58,516 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 3 ms
2025-04-21 22:23:58,525 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/index.html", parameters={}
2025-04-21 22:23:58,531 DEBUG [http-nio-8080-exec-1] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 22:23:58,543 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 304 NOT_MODIFIED
2025-04-21 22:23:58,589 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/swagger-ui/swagger-initializer.js", parameters={}
2025-04-21 22:23:58,591 DEBUG [http-nio-8080-exec-2] o.s.w.s.h.SimpleUrlHandlerMapping [AbstractHandlerMapping.java:533] Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-04-21 22:23:58,632 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 22:23:58,860 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs/swagger-config", parameters={}
2025-04-21 22:23:58,865 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-04-21 22:23:58,892 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json]
2025-04-21 22:23:58,906 DEBUG [http-nio-8080-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{configUrl=/api/v1/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/api/v1/swagge (truncated)...]
2025-04-21 22:23:58,910 DEBUG [http-nio-8080-exec-3] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 22:23:58,921 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] GET "/api/v1/v3/api-docs", parameters={}
2025-04-21 22:23:58,922 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-04-21 22:23:59,164 INFO [http-nio-8080-exec-4] o.s.a.AbstractOpenApiResource [AbstractOpenApiResource.java:410] Init duration for springdoc-openapi is: 227 ms
2025-04-21 22:23:59,172 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [application/json, */*] and supported [application/json]
2025-04-21 22:23:59,173 DEBUG [http-nio-8080-exec-4] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-04-21 22:23:59,173 DEBUG [http-nio-8080-exec-4] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 200 OK
2025-04-21 22:24:35,987 DEBUG [http-nio-8080-exec-5] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/bookings/6/addGuests", parameters={}
2025-04-21 22:24:35,991 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelBookingController#addGuestsToBooking(Long, List)
2025-04-21 22:24:36,016 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [[GuestDto(id=null, user=null, name=Ashu, gender=MALE, age=34)]]
2025-04-21 22:24:36,169 WARN [http-nio-8080-exec-5] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:145] SQL Error: 1452, SQLState: 23000
2025-04-21 22:24:36,169 ERROR [http-nio-8080-exec-5] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:150] Cannot add or update a child row: a foreign key constraint fails (`airbnb`.`guest`, CONSTRAINT `FKdg6lwhvpl89f1yt2i40pbfiiy` FOREIGN KEY (`user_id`) REFERENCES `app_user` (`id`))
2025-04-21 22:24:36,175 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:459] Using @ExceptionHandler com.project.advice.GlobalExceptionHandler#handleInternalServerError(Exception)
2025-04-21 22:24:36,177 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 22:24:36,178 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T22:24:36.176329, data=null, error=ApiError(status=500 INTERNAL_SERV (truncated)...]
2025-04-21 22:24:36,179 DEBUG [http-nio-8080-exec-5] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:186] Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`airbnb`.`guest`, CONSTRAINT `FKdg6lwhvpl89f1yt2i40pbfiiy` FOREIGN KEY (`user_id`) REFERENCES `app_user` (`id`))] [insert into guest (age,gender,name,user_id) values (?,?,?,?)]; SQL [insert into guest (age,gender,name,user_id) values (?,?,?,?)]; constraint [null]]
2025-04-21 22:24:36,179 DEBUG [http-nio-8080-exec-5] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 500 INTERNAL_SERVER_ERROR
2025-04-21 22:25:59,237 DEBUG [http-nio-8080-exec-7] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/bookings/6/addGuests", parameters={}
2025-04-21 22:25:59,243 DEBUG [http-nio-8080-exec-7] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelBookingController#addGuestsToBooking(Long, List)
2025-04-21 22:25:59,256 DEBUG [http-nio-8080-exec-7] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [[GuestDto(id=null, user=null, name=Ashu, gender=MALE, age=34)]]
2025-04-21 22:25:59,310 WARN [http-nio-8080-exec-7] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:145] SQL Error: 1265, SQLState: 01000
2025-04-21 22:25:59,310 ERROR [http-nio-8080-exec-7] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:150] Data truncated for column 'booking_status' at row 1
2025-04-21 22:25:59,314 DEBUG [http-nio-8080-exec-7] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:459] Using @ExceptionHandler com.project.advice.GlobalExceptionHandler#handleInternalServerError(Exception)
2025-04-21 22:25:59,314 DEBUG [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 22:25:59,314 DEBUG [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T22:25:59.314431, data=null, error=ApiError(status=500 INTERNAL_SERV (truncated)...]
2025-04-21 22:25:59,315 DEBUG [http-nio-8080-exec-7] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:186] Resolved [org.springframework.orm.jpa.JpaSystemException: could not execute statement [Data truncated for column 'booking_status' at row 1] [update booking set amount=?,booking_status=?,check_in_date=?,check_out_date=?,created_at=?,hotel_id=?,room_id=?,rooms_count=?,updated_at=?,user_id=? where id=?]]
2025-04-21 22:25:59,315 DEBUG [http-nio-8080-exec-7] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 500 INTERNAL_SERVER_ERROR
2025-04-21 22:26:46,839 INFO [SpringApplicationShutdownHook] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:54] Commencing graceful shutdown. Waiting for active requests to complete
2025-04-21 22:26:48,869 INFO [tomcat-shutdown] o.s.b.w.e.t.GracefulShutdown [GracefulShutdown.java:76] Graceful shutdown complete
2025-04-21 22:26:48,880 INFO [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:660] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 22:26:48,884 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:349] HikariPool-1 - Shutdown initiated...
2025-04-21 22:26:48,895 INFO [SpringApplicationShutdownHook] c.z.h.HikariDataSource [HikariDataSource.java:351] HikariPool-1 - Shutdown completed.
2025-04-21 22:26:50,623 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:53] Starting AirbnbapiApplication using Java 17.0.12 with PID 11717 (/Users/amant/Desktop/Project/AirBnBApp/airbnbapi/target/classes started by amant in /Users/amant/Desktop/Project/AirBnBApp/airbnbapi)
2025-04-21 22:26:50,624 DEBUG [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:54] Running with Spring Boot v3.4.4, Spring v6.2.5
2025-04-21 22:26:50,624 INFO [main] c.p.AirbnbapiApplication [SpringApplication.java:652] No active profile set, falling back to 1 default profile: "default"
2025-04-21 22:26:51,031 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:143] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-21 22:26:51,059 INFO [main] o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java:211] Finished Spring Data repository scanning in 23 ms. Found 5 JPA repository interfaces.
2025-04-21 22:26:51,327 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:111] Tomcat initialized with port 8080 (http)
2025-04-21 22:26:51,331 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Initializing ProtocolHandler ["http-nio-8080"]
2025-04-21 22:26:51,331 INFO [main] o.a.c.c.StandardService [DirectJDKLog.java:173] Starting service [Tomcat]
2025-04-21 22:26:51,331 INFO [main] o.a.c.c.StandardEngine [DirectJDKLog.java:173] Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-04-21 22:26:51,352 INFO [main] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring embedded WebApplicationContext
2025-04-21 22:26:51,352 INFO [main] o.s.b.w.s.c.ServletWebServerApplicationContext [ServletWebServerApplicationContext.java:301] Root WebApplicationContext: initialization completed in 706 ms
2025-04-21 22:26:51,420 DEBUG [main] o.s.w.f.ServerHttpObservationFilter [GenericFilterBean.java:240] Filter 'webMvcObservationFilter' configured for use
2025-04-21 22:26:51,471 INFO [main] o.h.j.i.u.LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-21 22:26:51,492 INFO [main] o.h.Version [Version.java:44] HHH000412: Hibernate ORM core version 6.6.11.Final
2025-04-21 22:26:51,504 INFO [main] o.h.c.i.RegionFactoryInitiator [RegionFactoryInitiator.java:50] HHH000026: Second-level cache disabled
2025-04-21 22:26:51,608 INFO [main] o.s.o.j.p.SpringPersistenceUnitInfo [SpringPersistenceUnitInfo.java:87] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-21 22:26:51,620 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:109] HikariPool-1 - Starting...
2025-04-21 22:26:51,686 INFO [main] c.z.h.p.HikariPool [HikariPool.java:554] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e595da3
2025-04-21 22:26:51,687 INFO [main] c.z.h.HikariDataSource [HikariDataSource.java:122] HikariPool-1 - Start completed.
2025-04-21 22:26:51,716 WARN [main] o.h.o.deprecation [DialectFactoryImpl.java:153] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-21 22:26:51,723 INFO [main] o.h.o.c.pooling [JdbcEnvironmentInitiator.java:157] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-21 22:26:52,096 INFO [main] o.h.e.t.j.p.i.JtaPlatformInitiator [JtaPlatformInitiator.java:59] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-21 22:26:52,184 INFO [main] o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:447] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-21 22:26:52,309 INFO [main] o.s.d.j.r.q.QueryEnhancerFactory [QueryEnhancerFactory.java:49] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-21 22:26:52,838 WARN [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [JpaBaseConfiguration.java:258] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-21 22:26:52,864 INFO [main] o.s.v.b.OptionalValidatorFactoryBean [OptionalValidatorFactoryBean.java:48] Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-04-21 22:26:52,893 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java:366] 19 mappings in 'requestMappingHandlerMapping'
2025-04-21 22:26:52,942 DEBUG [main] o.s.w.s.h.SimpleUrlHandlerMapping [SimpleUrlHandlerMapping.java:187] Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-04-21 22:26:52,959 DEBUG [main] o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java:666] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-04-21 22:26:52,981 DEBUG [main] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:336] ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-04-21 22:26:53,120 INFO [main] o.s.b.a.e.w.EndpointLinksResolver [EndpointLinksResolver.java:60] Exposing 1 endpoint beneath base path '/actuator'
2025-04-21 22:26:53,146 INFO [main] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] Starting ProtocolHandler ["http-nio-8080"]
2025-04-21 22:26:53,154 INFO [main] o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java:243] Tomcat started on port 8080 (http) with context path '/api/v1'
2025-04-21 22:26:53,161 INFO [main] c.p.AirbnbapiApplication [StartupInfoLogger.java:59] Started AirbnbapiApplication in 2.756 seconds (process running for 2.942)
2025-04-21 22:26:59,074 INFO [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/api/v1] [DirectJDKLog.java:173] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-21 22:26:59,074 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:532] Initializing Servlet 'dispatcherServlet'
2025-04-21 22:26:59,074 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:533] Detected StandardServletMultipartResolver
2025-04-21 22:26:59,075 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:557] Detected AcceptHeaderLocaleResolver
2025-04-21 22:26:59,075 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:583] Detected FixedThemeResolver
2025-04-21 22:26:59,079 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:733] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@60019f4b
2025-04-21 22:26:59,079 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [DispatcherServlet.java:797] Detected org.springframework.web.servlet.support.SessionFlashMapManager@59d8de36
2025-04-21 22:26:59,080 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:549] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-21 22:26:59,080 INFO [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:554] Completed initialization in 6 ms
2025-04-21 22:26:59,090 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/bookings/6/addGuests", parameters={}
2025-04-21 22:26:59,095 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelBookingController#addGuestsToBooking(Long, List)
2025-04-21 22:26:59,139 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [[GuestDto(id=null, user=null, name=Ashu, gender=MALE, age=34)]]
2025-04-21 22:26:59,233 WARN [http-nio-8080-exec-1] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:145] SQL Error: 1265, SQLState: 01000
2025-04-21 22:26:59,233 ERROR [http-nio-8080-exec-1] o.h.e.j.s.SqlExceptionHelper [SqlExceptionHelper.java:150] Data truncated for column 'booking_status' at row 1
2025-04-21 22:26:59,238 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:459] Using @ExceptionHandler com.project.advice.GlobalExceptionHandler#handleInternalServerError(Exception)
2025-04-21 22:26:59,246 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 22:26:59,247 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T22:26:59.239917, data=null, error=ApiError(status=500 INTERNAL_SERV (truncated)...]
2025-04-21 22:26:59,253 DEBUG [http-nio-8080-exec-1] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:186] Resolved [org.springframework.orm.jpa.JpaSystemException: could not execute statement [Data truncated for column 'booking_status' at row 1] [update booking set amount=?,booking_status=?,check_in_date=?,check_out_date=?,created_at=?,hotel_id=?,room_id=?,rooms_count=?,updated_at=?,user_id=? where id=?]]
2025-04-21 22:26:59,253 DEBUG [http-nio-8080-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 500 INTERNAL_SERVER_ERROR
2025-04-21 22:31:17,848 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] POST "/api/v1/bookings/6/addGuests", parameters={}
2025-04-21 22:31:17,853 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:533] Mapped to com.project.controller.HotelBookingController#addGuestsToBooking(Long, List)
2025-04-21 22:31:17,859 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:120] Read "application/json;charset=UTF-8" to [[GuestDto(id=null, user=null, name=Ashu, gender=MALE, age=34)]]
2025-04-21 22:31:17,909 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:310] Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-04-21 22:31:17,910 DEBUG [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] Writing [ApiResponse(timeStamp=2025-04-21T22:31:17.910138, data=BookingDto(id=6, roomsCount=3, checkInDate=20 (truncated)...]
2025-04-21 22:31:17,917 DEBUG [http-nio-8080-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] Completed 201 CREATED
